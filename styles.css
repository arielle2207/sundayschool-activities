/* styles.css - Sunday School Games (kid-friendly) */

:root{
  /* Bright palette */
  --ink:#13233f;
  --muted:#42557a;

  --primary:#60a5fa;
  --primary2:#a78bfa;

  --good:#22c55e;
  --bad:#ef4444;
  --warn:#fb923c;

  /* Tiles */
  --tileTop:#ffb454;  /* warm orange */
  --tileMid:#52e3a0;  /* mint */
  --tileBot:#43d7e9;  /* aqua */

  /* Surfaces */
  --card:#ffffff;
  --cardBorder:rgba(19,35,63,0.12);
  --soft:rgba(255,255,255,0.78);

  --shadow: 0 18px 32px rgba(19,35,63,0.14);
  --shadow2: 0 10px 18px rgba(19,35,63,0.10);

  /* Touch sizing (default, overridden by tap mode) */
  --btnPadY: 10px;
  --btnPadX: 14px;
  --tilePadY: 12px;
  --tileFont: 18px;
  --gridGap: 14px;
}

/* Tap-friendly mode (toggle adds data-tap="1" on <html>) */
html[data-tap="1"]{
  --btnPadY: 14px;
  --btnPadX: 18px;
  --tilePadY: 16px;
  --tileFont: 20px;
  --gridGap: 18px;
}

/* Page background: white + cute sky + hills (less “scammy” than heavy gradients) */
body{
  margin:0;
  font-family: system-ui,-apple-system,Segoe UI,Roboto,Arial,"Noto Sans CJK SC","PingFang SC","Microsoft YaHei",sans-serif;
  color:var(--ink);
  background:#f7fbff;
  overflow-x:hidden;
}

body::before{
  content:"";
  position:fixed;
  inset:0;
  z-index:-2;
  background:
    radial-gradient(circle at 12% 12%, rgba(96,165,250,0.25), rgba(96,165,250,0) 35%),
    radial-gradient(circle at 85% 18%, rgba(167,139,250,0.22), rgba(167,139,250,0) 40%),
    radial-gradient(circle at 40% 5%, rgba(255,180,84,0.22), rgba(255,180,84,0) 45%),
    linear-gradient(180deg, #e8f6ff 0%, #f7fbff 42%, #f7fbff 100%);
}

/* Hills at the bottom */
body::after{
  content:"";
  position:fixed;
  left:-10vw;
  right:-10vw;
  bottom:-140px;
  height:420px;
  z-index:-1;
  background:
    radial-gradient(120% 80% at 18% 60%, rgba(82,227,160,0.28), rgba(82,227,160,0) 60%),
    radial-gradient(120% 80% at 75% 55%, rgba(67,215,233,0.20), rgba(67,215,233,0) 60%),
    radial-gradient(120% 90% at 50% 70%, rgba(255,180,84,0.16), rgba(255,180,84,0) 60%),
    radial-gradient(80% 80% at 15% 30%, rgba(34,197,94,0.20), rgba(34,197,94,0) 55%),
    radial-gradient(90% 90% at 70% 35%, rgba(34,197,94,0.16), rgba(34,197,94,0) 55%);
  filter: blur(0px);
}

/* Floating clouds */
.clouds{
  position:fixed;
  inset:0;
  z-index:-1;
  pointer-events:none;
  opacity:0.65;
}
.cloud{
  position:absolute;
  width:220px;
  height:80px;
  background:rgba(255,255,255,0.85);
  border:1px solid rgba(19,35,63,0.06);
  border-radius:999px;
  box-shadow: var(--shadow2);
  filter: blur(0.2px);
  animation: drift 26s linear infinite;
}
.cloud::before,
.cloud::after{
  content:"";
  position:absolute;
  background:rgba(255,255,255,0.9);
  border-radius:999px;
}
.cloud::before{ width:90px; height:60px; left:26px; top:-22px; }
.cloud::after { width:120px; height:76px; left:92px; top:-34px; }

@keyframes drift{
  from{ transform: translateX(-260px); }
  to  { transform: translateX(calc(100vw + 260px)); }
}

/* Layout */
.wrap{max-width:1100px;margin:0 auto;padding:24px;position:relative;}
h1{margin:0 0 8px;font-size:34px;font-weight:1000;letter-spacing:-0.6px;}
.sub{color:var(--muted);margin-bottom:18px;line-height:1.5;font-weight:800;}

/* Header bar */
.header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:14px;
  flex-wrap:wrap;
  padding:14px 16px;
  border-radius:22px;
  background:var(--soft);
  border:1px solid rgba(19,35,63,0.10);
  box-shadow: var(--shadow2);
  backdrop-filter: blur(6px);
  margin-bottom:16px;
}
.brand{display:flex;align-items:center;gap:12px;}
.mascot{
  width:46px;height:46px;
  border-radius:16px;
  background:linear-gradient(135deg, rgba(96,165,250,0.28), rgba(167,139,250,0.22));
  border:1px solid rgba(19,35,63,0.10);
  display:flex;
  align-items:center;
  justify-content:center;
  box-shadow: var(--shadow2);
  overflow:hidden;
}
.mascot img{width:40px;height:40px;display:block;}
.brandTitle{font-weight:1000;font-size:16px;}
.brandSub{color:var(--muted);font-weight:900;font-size:13px;}

/* Buttons */
button, .btn{
  border:1px solid rgba(19,35,63,0.14);
  border-radius:18px;
  padding: var(--btnPadY) var(--btnPadX);
  background:#fff;
  color:var(--ink);
  cursor:pointer;
  font-weight:1000;
  box-shadow: var(--shadow2);
  transform: translateY(0);
  transition: transform .12s ease, box-shadow .12s ease;
  -webkit-tap-highlight-color: transparent;
}
button:hover, .btn:hover{transform: translateY(-1px);box-shadow: var(--shadow);}
button:active, .btn:active{transform: translateY(0);box-shadow: var(--shadow2);}
.btn-primary{
  background: linear-gradient(135deg, rgba(96,165,250,0.95), rgba(167,139,250,0.95));
  border-color: rgba(19,35,63,0.08);
}
.btn-primary{color:#0b1530;}
.btn-good{
  background: linear-gradient(135deg, rgba(34,197,94,0.95), rgba(82,227,160,0.95));
  border-color: rgba(19,35,63,0.08);
}
.btn-bad{
  background: linear-gradient(135deg, rgba(239,68,68,0.95), rgba(255,180,84,0.95));
  border-color: rgba(19,35,63,0.08);
}

/* Small toggles (sound / tap) */
.toggleRow{display:flex;gap:10px;flex-wrap:wrap;align-items:center;}
.toggle{
  display:flex;align-items:center;gap:10px;
  padding:8px 12px;
  border-radius:999px;
  background:rgba(255,255,255,0.85);
  border:1px solid rgba(19,35,63,0.10);
  box-shadow: var(--shadow2);
  font-weight:1000;
}
.switch{
  width:46px;height:28px;border-radius:999px;
  background:rgba(19,35,63,0.10);
  border:1px solid rgba(19,35,63,0.10);
  position:relative;
  cursor:pointer;
}
.switch::after{
  content:"";
  position:absolute;top:3px;left:3px;
  width:22px;height:22px;border-radius:999px;
  background:#fff;
  box-shadow: var(--shadow2);
  transition: left .15s ease, background .15s ease;
}
html[data-sound="1"] .switch.sound{ background: rgba(34,197,94,0.35); }
html[data-sound="1"] .switch.sound::after{ left:21px; }
html[data-tap="1"] .switch.tap{ background: rgba(96,165,250,0.35); }
html[data-tap="1"] .switch.tap::after{ left:21px; }

/* Panels/cards */
.panel{
  background:rgba(255,255,255,0.92);
  border:1px solid var(--cardBorder);
  border-radius:24px;
  padding:18px;
  box-shadow: var(--shadow);
}

/* Game Library cards */
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:18px;}
.card{
  background:rgba(255,255,255,0.95);
  border:1px solid rgba(19,35,63,0.10);
  border-radius:24px;
  padding:18px;
  cursor:pointer;
  box-shadow: var(--shadow2);
  transition: transform .12s ease, box-shadow .12s ease;
  position:relative;
  overflow:hidden;
}
.card:hover{transform:translateY(-2px);box-shadow: var(--shadow);}
.card::before{
  content:"";
  position:absolute;left:-24px;top:-24px;width:140px;height:140px;border-radius:44px;
  background:linear-gradient(135deg, rgba(96,165,250,0.20), rgba(167,139,250,0.18));
  transform: rotate(14deg);
}
.card::after{
  content:"";
  position:absolute;right:-24px;bottom:-24px;width:170px;height:170px;border-radius:52px;
  background:linear-gradient(135deg, rgba(255,180,84,0.18), rgba(82,227,160,0.16));
  transform: rotate(-10deg);
}
.card .title{font-size:20px;font-weight:1000;margin-bottom:8px;position:relative;}
.card .desc{color:var(--muted);font-size:14px;line-height:1.45;font-weight:800;position:relative;}
.meta{margin-top:12px;display:flex;gap:8px;flex-wrap:wrap;position:relative;}
.tag{
  display:inline-block;padding:7px 12px;border-radius:999px;
  background:rgba(96,165,250,0.18);
  border:1px solid rgba(19,35,63,0.08);
  font-size:12px;font-weight:1000;
}
.tag2{background:rgba(34,197,94,0.14);}

/* Messages / pills */
.pill{
  padding:8px 12px;border-radius:999px;
  background:rgba(255,255,255,0.90);
  border:1px solid rgba(19,35,63,0.10);
  font-weight:1000;color:var(--muted);
}
.msg{margin-top:12px;font-weight:1000;}
.msg.good{color:var(--good);}
.msg.bad{color:var(--bad);}
.msg.neutral{color:var(--muted);}

/* --- Reorder game styles (shared) --- */
.reorderToolbar{display:flex;flex-wrap:wrap;gap:10px;align-items:center;margin-bottom:12px;}
.reorderBoard{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(150px,1fr));
  gap: var(--gridGap);
}
.reorderSlot{
  min-height:74px;
  border-radius:18px;
  border:2px dashed rgba(19,35,63,0.14);
  background:rgba(255,255,255,0.60);
  display:flex;
  align-items:center;
  justify-content:center;
  position:relative;
  padding:10px;
  user-select:none;
}
.reorderIdx{
  position:absolute;
  top:8px; left:10px;
  font-size:12px;
  color:rgba(66,85,122,0.9);
  font-weight:1000;
}
.reorderTile{
  width:100%;
  border-radius:18px;
  padding: var(--tilePadY) 10px;
  font-weight:1000;
  text-align:center;
  font-size: var(--tileFont);
  line-height:1.1;
  border:2px solid rgba(255,255,255,0.70);
  box-shadow: var(--shadow2);
  cursor:pointer;
  display:flex;
  flex-direction:column;
  gap:4px;
  justify-content:center;
}
.reorderTile.small{font-size: calc(var(--tileFont) - 2px);}
.reorderTile.selected{outline:4px solid rgba(96,165,250,0.75);transform:translateY(-1px);}
.reorderTile.locked{outline:3px solid rgba(34,197,94,0.70);}

.tileEn{font-size: var(--tileFont);}
.tileZh{font-size: calc(var(--tileFont) - 4px); opacity:0.9;}

.reorderTrayWrap{margin-top:14px;}
.reorderTrayTitle{font-weight:1000;color:var(--muted);margin:2px 0 10px 2px;}
.reorderTray{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(150px,1fr));
  gap: var(--gridGap);
}

.reorderSlot.hintPulse{outline:4px solid rgba(96,165,250,0.45);}

.reorderTile.dragging{opacity:0.35;}
.dragGhost{
  position:fixed;
  z-index:99999;
  width:220px;
  max-width:70vw;
  pointer-events:none;
  transform:translate(-50%,-50%);
}
.dragGhost .reorderTile{cursor:grabbing;}

@keyframes snapIn{0%{transform:scale(0.92);}60%{transform:scale(1.03);}100%{transform:scale(1.0);}}
.reorderTile.snap{animation:snapIn 220ms ease-out;}

/* --- Wordsearch styles (shared) --- */
.wsLayout{display:grid;grid-template-columns:1fr;gap:14px;}
.wsGrid{
  display:grid;
  gap:8px;
}
.wsCell{
  padding: 12px 0;
  border-radius:16px;
  font-weight:1000;
  background:rgba(255,255,255,0.85);
  border:2px solid rgba(19,35,63,0.10);
  box-shadow: var(--shadow2);
  cursor:pointer;
}
.wsCell.selected{outline:4px solid rgba(96,165,250,0.75);}
.wsWordList{display:flex;flex-wrap:wrap;gap:10px;}
.wsTag{
  padding:7px 12px;border-radius:999px;
  font-weight:1000;font-size:12px;
  border:1px solid rgba(19,35,63,0.08);
  background:rgba(96,165,250,0.16);
}
.wsTag.found{background:rgba(34,197,94,0.14);}

/* Badge / reward modal */
.badgeOverlay{
  position:fixed; inset:0;
  background:rgba(19,35,63,0.30);
  display:flex; align-items:center; justify-content:center;
  z-index:9999;
  padding:18px;
}
.badgeCard{
  width:min(520px, 92vw);
  background:#fff;
  border-radius:26px;
  border:1px solid rgba(19,35,63,0.10);
  box-shadow: var(--shadow);
  padding:18px;
  text-align:center;
}
.badgeIcon{
  width:92px;height:92px;
  border-radius:26px;
  margin:0 auto 10px;
  background:linear-gradient(135deg, rgba(255,180,84,0.25), rgba(96,165,250,0.20));
  display:flex;align-items:center;justify-content:center;
  border:1px solid rgba(19,35,63,0.08);
}
.badgeIcon img{width:78px;height:78px;}
.badgeTitle{font-size:26px;font-weight:1000;margin:8px 0 6px;}
.badgeSub{color:var(--muted);font-weight:900;margin-bottom:14px;line-height:1.4;}
.badgeButtons{display:flex;gap:10px;justify-content:center;flex-wrap:wrap;}
